# Enterprise Compliance Filter - Production Environment Configuration
# Copy this file to .env.production and fill in your values

# ========================================
# ESSENTIAL CONFIGURATION (REQUIRED)
# ========================================

# Application Security
SECRET_KEY=CHANGE_ME_TO_SECURE_RANDOM_STRING_32_CHARS
JWT_SECRET_KEY=CHANGE_ME_TO_ANOTHER_SECURE_RANDOM_STRING

# Database Configuration (PostgreSQL recommended for production)
DATABASE_URL=postgresql://compliance_user:SECURE_PASSWORD@your-db-host:5432/compliance_prod

# Redis Cache Configuration
REDIS_URL=redis://:REDIS_PASSWORD@your-redis-host:6379/0

# ========================================
# SECURITY SETTINGS
# ========================================

# HTTPS Configuration
FORCE_HTTPS=true
SSL_CERT_PATH=/path/to/your/certificate.crt
SSL_KEY_PATH=/path/to/your/private.key

# CORS Configuration (comma-separated list of allowed origins)
CORS_ORIGINS=https://yourdomain.com,https://api.yourdomain.com,https://admin.yourdomain.com

# Session Security
SESSION_TIMEOUT=28800  # 8 hours in seconds

# ========================================
# PERFORMANCE SETTINGS
# ========================================

# Gunicorn Worker Configuration
GUNICORN_WORKERS=4  # Recommended: (2 x CPU cores) + 1
DEPLOYMENT_ENV=production  # Options: production, high_traffic, memory_optimized

# Application Performance
PORT=5000
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR

# Cache Settings
INTELLIGENT_CACHE_SIZE=10000
SEMANTIC_CACHE_TTL=7200  # 2 hours in seconds

# ========================================
# DATABASE OPTIMIZATION
# ========================================

# PostgreSQL Connection Pool (if using SQLAlchemy directly)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_RECYCLE=3600

# ========================================
# OAUTH CONFIGURATION (OPTIONAL)
# ========================================

# Google OAuth 2.0
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Microsoft OAuth
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# ========================================
# MONITORING & LOGGING
# ========================================

# Error Tracking (Sentry)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Monitoring
PROMETHEUS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# Logging Configuration
LOG_FILE=/var/log/compliance-filter/app.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# ========================================
# EMAIL CONFIGURATION (OPTIONAL)
# ========================================

# SMTP Settings for notifications
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_DEFAULT_SENDER=noreply@yourdomain.com

# ========================================
# BACKUP & DISASTER RECOVERY
# ========================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket  # For AWS S3 backups

# ========================================
# CLOUD PROVIDER SPECIFIC
# ========================================

# AWS Configuration (if deploying to AWS)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
ECR_REPOSITORY=123456789012.dkr.ecr.us-east-1.amazonaws.com/compliance-filter

# Google Cloud Configuration (if deploying to GCP)
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Azure Configuration (if deploying to Azure)
AZURE_SUBSCRIPTION_ID=your-subscription-id
AZURE_RESOURCE_GROUP=compliance-rg

# ========================================
# DOMAIN & NETWORKING
# ========================================

# Domain Configuration
DOMAIN=yourdomain.com
API_BASE_URL=https://api.yourdomain.com
FRONTEND_URL=https://yourdomain.com

# Load Balancer Health Check
HEALTH_CHECK_PATH=/health
READINESS_CHECK_PATH=/ready

# ========================================
# RATE LIMITING
# ========================================

# Rate Limit Configuration (requests per time period)
RATE_LIMIT_AUTH_LOGIN=5 per minute
RATE_LIMIT_AUTH_REGISTER=3 per minute
RATE_LIMIT_ANALYZE_CONTENT=100 per hour
RATE_LIMIT_API_GENERAL=1000 per hour
RATE_LIMIT_MFA_VERIFY=10 per minute

# ========================================
# ADDITIONAL SECURITY
# ========================================

# Content Security Policy
CSP_REPORT_URI=https://yourdomain.com/csp-report
CSP_REPORT_ONLY=false

# API Security
API_KEY_EXPIRY_DAYS=365
MAX_API_KEYS_PER_USER=5

# Session Security
SECURE_COOKIES=true
HTTPONLY_COOKIES=true
SAMESITE_COOKIES=Lax

# ========================================
# FEATURE FLAGS
# ========================================

# Compliance Features
AI_MODELS_ENABLED=true
PATTERN_DETECTION_ENABLED=true
SEMANTIC_ANALYSIS_ENABLED=true
ADVANCED_DETECTION_TIMEOUT=5.0

# Authentication Features
MFA_ENFORCEMENT=optional  # Options: disabled, optional, required
OAUTH_ENABLED=true
API_KEY_AUTH_ENABLED=true

# ========================================
# DEVELOPMENT & TESTING (PRODUCTION OVERRIDES)
# ========================================

# Override development settings for production
FLASK_ENV=production
FLASK_DEBUG=false
TESTING=false

# ========================================
# EXAMPLE VALUES FOR TESTING
# ========================================
# Uncomment and modify for testing/staging environments:

# STAGING EXAMPLE:
# SECRET_KEY=staging-secret-key-32-characters-long
# DATABASE_URL=postgresql://staging_user:staging_pass@staging-db:5432/staging_db
# REDIS_URL=redis://:staging_redis_pass@staging-redis:6379/0
# FORCE_HTTPS=false
# CORS_ORIGINS=https://staging.yourdomain.com
# LOG_LEVEL=DEBUG

# ========================================
# SECURITY REMINDER
# ========================================
# 
# ðŸ”’ IMPORTANT SECURITY NOTES:
# 
# 1. Never commit this file with real values to version control
# 2. Use strong, unique passwords for all credentials
# 3. Rotate secrets regularly (every 90 days recommended)
# 4. Use environment-specific configurations
# 5. Enable HTTPS in production
# 6. Configure proper CORS origins
# 7. Use secure session configurations
# 8. Enable rate limiting
# 9. Monitor and log security events
# 10. Keep dependencies updated
#
# ========================================